{% extends 'base.html' %}

{% block content %}

{% for message in get_flashed_messages() %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
        </button>
    </div>
{% endfor %}

{% if id == current_user.id %}
    <h1>Update User...</h1>
    <br/>
    <div class = "shadow-lg p-3 mb-5 bg-light rounded">
        <form action="/dashboard" method = "POST">
            {{ form.hidden_tag() }}

            {{ form.name.label(class="form-label") }}
            {{ form.name(class="form-control", value=name_to_update.name) }}
            <br/>

            
            {{ form.email.label(class="form-label") }}
            {{ form.email(class="form-control", value=name_to_update.email) }}
            <br/>

            {{form.submit(class="btn btn-dark")}}

            <a href="{{ url_for('delete', id=id )}}" class = "btn btn-danger">Delete</a>

        </form>
    </div>

<br/><br/><br/>

{% else %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        Sorry! You Can't Edit This User...
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <h2>Access Denied!</h2>
    <p>Sorry, you cannot access this user profile :(</p>
{% endif %}

{% endblock %}
